<div id="devices-overview" v-cloak>
  <masthead></masthead>
  <div class="container-fluid">
    <h5 class="pt-4">
      <strong>Devices</strong>
    </h5>
    <hr>
    <table class="devices-table table table-striped table-hover mb-4" v-if="devices.length > 0" >
      <thead class="thead-light">
        <tr>
          <th scope="col">Name</th>
          <th scope="col">Location</th>
          <th scope="col">Device ID</th>
          <th scope="col">Sensors</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr @click="goto('/devices/'+encodeURIComponent(device.deviceId))" v-for="device in devices">
          <td>{{device.name}}</td>
          <td>{{device.location}}</td>
          <td>{{device.deviceId}}</td>
          <td :class="device.sensors.length === 0 ? 'text-muted' : ''">{{device.sensors.length || 'None configured'}}</td>
          <td><small><i class="fa fa-angle-right text-muted float-right pt-2"></i></small></td>
        </tr>
      </tbody>
    </table>
    <div v-else class="bg-light text-center text-muted p-4 mb-4">
      <em>There are currently no devices configured. You can manage devices from your <a target="_blank" href="https://app.avimesa.com">Avimesa Toolkit</a> account.</em>
    </div>
  </div>
</div>
<%- /* Expose server-rendered data as window.SAILS_LOCALS :: */ exposeLocalsToBrowser() %>
